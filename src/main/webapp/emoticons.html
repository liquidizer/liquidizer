<lift:surround with="default" at="content">
  <head>
    <script type="text/javascript">
      $(function(){ refresh(); });
      function refresh() {
      var v= $("#slider-valence").val();
      var a= $("#slider-arousal").val();
      var p= $("#slider-potency").val();
      var s= $("#slider-scale").val();
      var w= $("#slider-weight").val();
      $("#label-valence").text(v);
      $("#label-arousal").text(a);
      $("#label-potency").text(p);
      $("#label-scale").text(s);
      $("#label-weight").text(w);

      var newElt= document.createElement("embed");
      newElt.setAttribute("src", "/emoticons/face.svg?"+
      "v="+(v/100.0)+
      "&amp;a="+(a/100.0)+
      "&amp;p="+(p/100.0)+
      "&amp;w="+(w/50.0)+
      "&amp;scale="+(100.0/(50.0+s/1.0)));
      newElt.setAttribute("width","250");
      newElt.setAttribute("height","250");
      newElt.setAttribute("style","position:absolute; left:0px; top:0px");
      var emoticon= document.getElementById("emoticon");
      emoticon.appendChild(newElt);
      newElt.onload= function() {
      while (emoticon.childNodes.length>1)
      emoticon.removeChild(emoticon.firstChild);
      }
      }

      function setParam(v,a,p) {
      $("#slider-valence").val(v);
      $("#slider-arousal").val(a);
      $("#slider-potency").val(p);
      refresh();
      }
    </script>
    <style type="text/css">
      #sliders {
      width:100%;
      }
      #sliders td {
      min-width: 2em;
      padding: 5px;
      }
      #emoticon {
      text-align: center;
      height:300px;
      }
      #links a {
      text-decoration:none;
      background-color:gray;
      color:white;
      margin:0px 1px 0px 1px;
      padding:2px 3px 2px 3px;
      }
      #links p {
      margin: 5px 0 0 0;
      }

    </style>
  </head>

  <div style="margin:2em">
    <h1>Emotion Explorer</h1>

    <table id="sliders">
      <tr>
	<td>Valence</td>
	<td width="80%">
	  <input id="slider-valence" type="range"
		 style="width:90%;min:0;max:100;value:50"
		 onchange="refresh()"/>
	</td>
	<td><span id="label-valence">0</span></td>
      </tr>
      <tr>
	<td>Arousal</td>
	<td width="80%">
	  <input id="slider-arousal" type="range" 
		 style="width:90%;min:0;max:100;value:50"
		 onchange="refresh()"/>
	</td>
	<td><span id="label-arousal">0</span></td>
      </tr>
      <tr>
	<td>Potency</td>
	<td width="80%">
	  <input id="slider-potency" type="range"
		 style="width:90%;min:0;max:100;value:50"
		 onchange="refresh()"/>
	</td>
	<td><span id="label-potency">0</span></td>
      </tr>
      <tr>
	<td>Distance</td>
	<td width="80%">
	  <input id="slider-scale" type="range"
		 style="width:90%;min:0;max:100;value:50"
		 onchange="refresh()"/>
	</td>
	<td><span id="label-scale">0</span></td>
      </tr>
      <tr>
	<td>Weight</td>
	<td width="80%">
	  <input id="slider-weight" type="range"
		 style="width:90%;min:0;max:100;value:50"
		 onchange="refresh()"/>
	</td>
	<td><span id="label-weight">0</span></td>
      </tr>
    </table>
    <div id="emoticon" style="position:absolute;margin:0 50px 0 50px"></div>
    <div style="margin:125px">&nbsp;</div>

    <div id="links">
      <p>
      <a href="javascript:setParam(50,50,50)">Normal</a>
      </p>
      <p>
      <a href="javascript:setParam(50,100,50)">Surprised</a>
      <a href="javascript:setParam(50,0,50)">Drowsy</a>
      <a href="javascript:setParam(100,50,50)">Happy</a>
      <a href="javascript:setParam(0,50,50)">Unhappy</a>
      <a href="javascript:setParam(50,50,100)">Determined</a>
      <a href="javascript:setParam(50,50,0)">Doubtful</a>
      </p>
      <p>
      <a href="javascript:setParam(0,0,0)">Sad</a>
      <a href="javascript:setParam(0,0,100)">Grumpy</a>
      <a href="javascript:setParam(0,100,0)">Scared</a>
      <a href="javascript:setParam(100,100,100)">Excited</a>
      <a href="javascript:setParam(100,0,100)">Content</a>
      <a href="javascript:setParam(0,100,100)">Angry</a>
      <a href="javascript:setParam(100,100,0)">Embarrassed</a>
      <a href="javascript:setParam(100,0,0)">Sceptical</a>
      </p>
    </div>
  </div>
</lift:surround>


